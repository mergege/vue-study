webpackJsonp([0],{QECy:function(t,e){},jU0o:function(t,e,s){t.exports=s.p+"static/img/mask.17594cf.png"},rXMq:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("PxVd"),o={data:function(){return{type:"",baseUrl:"",source:"",title:"",code:"",url:"",isWechat:!0,showModal:!1}},created:function(){this.isWechat=this.isWX(),this.isWechat?this.baseUrl=sessionStorage.getItem("base_URL"):this.getWebConfig()},activated:function(){(this.isWechat||this.baseUrl)&&this.init()},methods:{init:function(){this.showModal=!1,this.source="",document.title=this.$route.query.title,this.type=this.$route.query.type,this.title=this.$route.query.title,this.code=this.$route.query.code,this.url=this.$route.query.url,this.source=this.baseUrl+this.$route.query.url},getWebConfig:function(){var t=this;Object(i.a)("/../dcs-fpc/msp-web",{},{method:"get",success:function(e){if(e.propertySources){var s=e.propertySources[0].source;t.baseUrl=s.base_URL,sessionStorage.setItem("base_URL",s.base_URL),t.init()}else t.$alert.show(e.msg||"服务器出错")},error:function(e){t.$alert.show(e||"服务器出错")}})},isWX:function(){var t=window.navigator.userAgent.toLowerCase();return/MicroMessenger/i.test(t)},save:function(){if(this.isWechat)this.showModal=!0;else{var t="",e="";switch(this.type){case"aux":t=this.title+".jpg",e=this.source;break;case"basic":t=this.title+".pdf",e=this.baseUrl+"/bankInsur/isale/downloadProductMaterials?productCode="+this.code+"&materialsUrl="+encodeURIComponent(this.url)}this.download(t,e)}},download:function(t,e){var s=document.createElement("a");s.href=e,s.download=t,s.click(),s=null},close:function(){this.showModal=!1}}},a={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page"},["aux"===t.type?i("img",{staticClass:"img",attrs:{src:t.source,alt:"材料"}}):t._e(),t._v(" "),"basic"===t.type?i("iframe",{staticClass:"wrapper",attrs:{src:t.source}}):t._e(),t._v(" "),i("button",{staticClass:"btn",on:{click:t.save}},[t._v("保存到手机")]),t._v(" "),t.showModal?i("section",{staticClass:"modal",on:{click:t.close}},[i("img",{staticClass:"top",attrs:{src:s("jU0o"),alt:""}})]):t._e()])},staticRenderFns:[]};var r=s("VU/8")(o,a,!1,function(t){s("QECy")},"data-v-1b81f1ea",null);e.default=r.exports}});
//# sourceMappingURL=0.b0ea2975d782b7c1f8b2.js.map