webpackJsonp([11],{"3Xim":function(t,e){},b0qm:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s={props:{policyItemData:{type:Object,default:{productName:"",policyNo:"",applyName:"",effectDate:"",status:"",applyChannel:"",applySource:""}}},methods:{onClick:function(){this.$emit("on-click")}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"clearfix policyItemWrap",on:{click:function(e){t.onClick()}}},[a("div",{staticClass:"clearfix top"},[a("div",{staticClass:"col col-xs-8 col-sm-8 col-md-8 col-lg-8"},[a("span",{staticClass:"active"},[t._v(t._s(t.policyItemData.policyNo))])]),t._v(" "),a("div",{staticClass:"col col-xs-4 col-sm-4 col-md-4 col-lg-4 applyName"},[a("span",[t._v(t._s(t.policyItemData.applyName))])])]),t._v(" "),a("div",{staticClass:"clearfix content"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col col-xs-12 col-sm-12 col-md-12 col-lg-12"},[a("span",[t._v("主险名称："+t._s(t.policyItemData.productName))])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-xs-7 col-sm-7 col-md-7 col-lg-7"},[t._v("业务来源："),a("span",{staticClass:"effect-date"},[t._v(t._s(t.policyItemData.applySource))])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-xs-7 col-sm-7 col-md-7 col-lg-7"},[t._v("生效日期："),a("span",{staticClass:"effect-date"},[t._v(t._s(t.policyItemData.effectDate))])]),t._v(" "),a("div",{staticClass:"col col-xs-5 col-sm-5 col-md-5 col-lg-5"},[t._v("当前状态："),a("span",{staticClass:"status"},[t._v(t._s(t.policyItemData.status))])])]),t._v(" "),a("div",{staticClass:"row"},[a("div",{staticClass:"col col-xs-12 col-sm-12 col-md-12 col-lg-12"},[t._v("回访完成时间："),a("span",{staticClass:"effect-date"},[t._v(t._s(t.policyItemData.appointFinshDate))])])])])])},staticRenderFns:[]};var l=a("VU/8")(s,i,!1,function(t){a("3Xim")},"data-v-8d45b464",null).exports,o=a("SmpT"),c=a("hEaO"),n=a("Y3JF"),r=a("c6kH"),d={watch:{type:function(){localStorage.removeItem("query"),4!==this.type&&(this.beginDate="",this.endDate="",this.getDataArray())}},activated:function(){if(this.agentNo=this.$route.query.agentNo,this.type===r.a.POLICY_CUSTOM_SEARCH){var t=localStorage.getItem("query");if(t){var e=JSON.parse(t);this.beginDate=e.startDate,this.endDate=e.endDate}else this.defaultValue={title:"已承保保单",index:1},this.type=1}this.getDataArray()},components:{policyInquiryItemTemplate:l,dropDownListTemplate:o.a,alertTemplate:c.a},data:function(){return{alertShow:!1,alertMsg:"",agentNo:"",beginDate:"",endDate:"",type:1,policyItemData:{title:"",policyNo:"",insureName:"",effectiveDate:"",status:""},dataArray:[],itemArray:[{title:"已承保保单",index:1},{title:"有效保单",index:2},{title:"无效保单",index:3},{title:"自定义查询",index:4}],defaultValue:{title:"已承保保单",index:1},getMoreShow:!1,allData:[]}},methods:{closeAlert:function(){this.alertShow=!1},alertDiv:function(t){this.alertShow=!0,this.alertMsg=t},getDataArray:function(){var t=this,e={agentNo:this.agentNo,beginDate:this.beginDate,endDate:this.endDate,type:this.type},a={method:"POST",stringData:!0,success:function(e){console.log("tag",e),e.flag===r.a.SUCCESS_FLAG?e.data.length>4?(t.getMoreShow=!0,t.dataArray=e.data.slice(0,4),t.allData=e.data):(t.getMoreShow=!1,t.dataArray=e.data):t.alertDiv(e.message)},error:function(){t.alertDiv("服务器连接出错")}};Object(n.a)("/selfservice/clientManage/agentPolicy",e,a)},showMore:function(){this.getMoreShow=!1,this.dataArray=this.allData},clickItem:function(t){this.defaultValue=t,this.type=t.index,t.index===r.a.POLICY_CUSTOM_SEARCH&&this.$router.push({path:"/customQuery"})},onClick:function(t,e){this.$router.push({path:"/catalog",query:{policyNo:e.policyNo,productName:e.productName}})},beforeDestroy:function(){localStorage.removeItem("query")}}},p={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container-fluid policyInquiryWrap"},[a("drop-down-list-template",{attrs:{defaultValue:t.defaultValue,items:t.itemArray},on:{"click-item":function(e){t.clickItem(e)}}}),t._v(" "),a("div",{staticClass:"itemList"},t._l(t.dataArray,function(e,s){return a("div",{key:s,staticClass:"item"},[a("policy-inquiry-item-template",{attrs:{policyItemData:e},on:{"on-click":function(a){t.onClick(s,e)}}})],1)})),t._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:t.getMoreShow,expression:"getMoreShow"}],staticClass:"get-more-msg",on:{click:function(e){t.showMore()}}},[a("span",{staticClass:"word"},[t._v("点击查看更多")]),t._v(" "),a("span",{staticClass:"icon"},[t._v("↓↓")])]),t._v(" "),a("alert-template",{attrs:{isShow:t.alertShow},on:{"on-close":function(e){t.closeAlert()}}},[a("p",{domProps:{textContent:t._s(t.alertMsg)}})])],1)},staticRenderFns:[]};var u=a("VU/8")(d,p,!1,function(t){a("wCRt")},"data-v-7cce6e94",null);e.default=u.exports},wCRt:function(t,e){}});
//# sourceMappingURL=11.0d14b7f8fd32719da3b8.js.map