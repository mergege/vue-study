webpackJsonp([12],{"3DRv":function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=s("mvHQ"),a=s.n(i),o=s("AdN4"),n=s("sihj"),r=s("71e1"),c=s.n(r),h=s("1QNT"),l=s("kgJZ"),d=s("3L8I").base_URL,m={name:"loveBabyDetail",data:function(){return{firstShow:0,secondShow:0,firstIndex:0,secondIndex:0,firstTab:["白银版","黄金版"],SecondTab:["产品介绍","常见问题"],msgData:{},code:"",phone:"",productName:"",fullName:"",images:{banner:"",gold:"",silver:"",detail:"",question:"",code:"",smallImg:""},interfaceUrl:"",imgBanner:"",comBanner:"",wxShareUrl:"",InsureUrl:"",shareQrcode:""}},components:{bottomNav:o.a,msgBox:n.a},activated:function(){var e=this;this.Athena.register("app","call","smallImage",this.compressHeaderImage,!0),this.images.banner="",this.images.gold="",this.images.silver="",this.images.detail="",this.images.question="",this.images.smallImg="",this.images.code="",this.$http({url:"/../dcs-fpc/msp-web"},!1).then(function(t){e.wxShareUrl=t.propertySources[0].source.wxShareUrl,e.interfaceUrl=e.wxShareUrl+"/RH_MSPSERVER/wechat/productImage/",e.code=e.$route.query.code,e.phone=e.$route.query.phone,e.productName=e.$route.query.productName,e.fullName=e.$route.query.productFullName,e.description=e.$route.query.description,e.firstIndex=0,e.secondIndex=0,e.firstShow=0,e.secondShow=0,document.title=e.productName,e.Athena.setTitle(e.productName),e.initData(),e.initTopRight()}).catch(function(){alert("服务器出错")})},methods:{initData:function(){this.images.banner="",this.images.gold="",this.images.silver="",this.images.detail="",this.images.question="",this.images.code="",this.images.banner=this.interfaceUrl+this.code+"-banner.jpg",this.images.gold=this.interfaceUrl+this.code+"-gold.jpg",this.images.silver=this.interfaceUrl+this.code+"-silver.jpg",this.images.detail=this.interfaceUrl+this.code+"-detail.jpg",this.images.question=this.interfaceUrl+this.code+"-question.jpg",this.images.smallImg=this.interfaceUrl+this.code+"-smallImage.jpg"},choose:function(e){this.firstShow=e,this.firstIndex=e},secondChoose:function(e){this.secondIndex=e,this.secondShow=e},initTopRight:function(){var e=this,t="",s="";s=(t="/RH_MSPSERVER"===d?"msp.cmrh.com"===location.host?"https://ols.cmrh.com/ols/html/ias/%23/xpx/index?neededParams=":"https://ols-di1.sit.cmrh.com/ols/html/ias/%23/xpx/index?neededParams=":d.indexOf("msp.cmrh.com")>-1?"https://ols.cmrh.com/ols/html/ias/%23/xpx/index?neededParams=":"https://www-di1.sit.cmrh.com/ols/html/ias/%23/xpx/index?neededParams=")+encodeURIComponent(a()({type:"json",params:{applySource:"F3",agentNo:sessionStorage.getItem("agentNo1")||localStorage.getItem("agentNo")}})),t+=encodeURIComponent(a()({type:"json",params:{applySource:"F3",agentNo:sessionStorage.getItem("agentNo1")||localStorage.getItem("agentNo")}}).replace(/"/g,'\\"')),this.InsureUrl=t,s=l.a.decodeUrl(s),console.log("qrcodeUrl",s),c.a.toDataURL(s).then(function(t){Object(h.a)(t,e.images.smallImg,{width:256,height:256,iconRadius:5,iconBorderWidth:5,iconBorderColor:"#fff"}).then(function(t){e.shareQrcode=t,console.log("shareQrcode",e.shareQrcode)})}),this.Athena.showTopRight("share",{type:this.Athena.shareWechat+this.Athena.shareWechatFriends,url:t,title:this.fullName,txt:this.description,icon:"app.call.smallImage"})},compressHeaderImage:function(){var e=this,t=new Image;t.onload=function(){var s=t.width,i=t.height,a=Math.max(s,i),o=document.createElement("canvas");o.width=150,o.height=150;var n=o.getContext("2d");n.rect(0,0,a,a),n.fillStyle="#ffffff",n.fill(),n.drawImage(t,0,0,s,i,(150-s/a*150)/2,(150-i/a*150)/2,s/a*150,i/a*150);var r=o.toDataURL("image/jpeg",.9);e.Athena.sendData("shareQrCodeImage",{qrCodeImage:e.shareQrcode.split(",")[1],icon:r.split(",")[1]})},t.src=this.images.smallImg}},beforeRouteLeave:function(e,t,s){this.Athena.showTopRight("gone"),s()}},g={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"detail-wrap"},[s("div",{staticClass:"titleImg"},[s("img",{attrs:{src:e.images.banner}})]),e._v(" "),s("div",{staticClass:"tab"},e._l(e.firstTab,function(t,i){return s("div",{key:i,class:{selected:e.firstIndex===i},on:{click:function(t){e.choose(i)}}},[e._v(e._s(t))])})),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0===e.firstShow,expression:"firstShow === 0"}],staticClass:"imgShow"},[s("img",{attrs:{src:e.images.silver}})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1===e.firstShow,expression:"firstShow === 1"}],staticClass:"imgShow"},[s("img",{attrs:{src:e.images.gold}})]),e._v(" "),s("div",{staticClass:"tab"},e._l(e.SecondTab,function(t,i){return s("div",{key:i,class:{selected:e.secondIndex===i},on:{click:function(t){e.secondChoose(i)}}},[e._v(e._s(t))])})),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:0===e.secondShow,expression:"secondShow === 0"}],staticClass:"imgShow"},[s("img",{attrs:{src:e.images.detail}})]),e._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:1===e.secondShow,expression:"secondShow === 1"}],staticClass:"imgShow"},[s("img",{attrs:{src:e.images.question}})])])},staticRenderFns:[]};var u=s("VU/8")(m,g,!1,function(e){s("iSfy")},"data-v-c89995bc",null);t.default=u.exports},iSfy:function(e,t){}});
//# sourceMappingURL=12.ffcd81c6d221befc5824.js.map