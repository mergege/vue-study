webpackJsonp([8],{BO1k:function(t,e,r){t.exports={default:r("fxRn"),__esModule:!0}},Kofj:function(t,e,r){t.exports=r.p+"static/img/noRecord.651eb78.png"},fQPk:function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=r("BO1k"),i=r.n(s),o=r("//Fk"),a=r.n(o),n=[{name:"product",title:"产品海报"},{name:"store",title:"微店海报"}],l={name:"literature",data:function(){return{posterList:[],isNoRecord:!0,posterBarList:n,currentIndex:0,interfaceUrl:"",productPoster:[],storePoster:[],isLoaded:!0,isLoadedasyncData:!1,isShowProduct:!0,isShowStore:!1,isHaveProduct:!1,isHaveStore:!1,productPosterList:[],storePosterList:[]}},methods:{renderPoster:function(t,e){this.currentIndex=e,"product"===t&&(this.isShowProduct=!0,this.isShowStore=!1),"store"===t&&(this.isShowProduct=!1,this.isShowStore=!0)},getPosterTitleList:function(){var t=this;this.$loading.start(),this.$http({method:"get",url:"/newWechat/getPoster",data:{agentNo:localStorage.getItem("agentNo")}}).then(function(e){if(t.$loading.end(),200===e.code){var r=t,s=e.data.productPoster||[],o=e.data.storePoster||[];s.length<=0&&(t.isHaveProduct=!0),o.length<=0&&(t.isHaveStore=!0);var n=[],l=!0,c=!1,u=void 0;try{for(var d,v=i()(s);!(l=(d=v.next()).done);l=!0){var h=d.value;({}).title=h;var f=r.getPosterImg("P",h.title);n.push(f)}}catch(t){c=!0,u=t}finally{try{!l&&v.return&&v.return()}finally{if(c)throw u}}var p=[],g=!0,m=!1,w=void 0;try{for(var P,_=i()(o);!(g=(P=_.next()).done);g=!0){var y=P.value;({}).title=y;f=r.getPosterImg("S",y.title);p.push(f)}}catch(t){m=!0,w=t}finally{try{!g&&_.return&&_.return()}finally{if(m)throw w}}a.a.all(n).then(function(e){var r=[];s.forEach(function(t,s){var i={};i.title=t.title,i.canApply=t.canApply,i.imgList=e[s].data,r.push(i)}),t.productPosterList=r,console.log(r)}).catch(function(e){console.log(e),t.$alert.show("服务端错误")}),a.a.all(p).then(function(e){var r=[];o.forEach(function(t,s){var i={};i.title=t.title,i.canApply=t.canApply,i.imgList=e[s].data,r.push(i)}),t.storePosterList=r,console.log(r)}).catch(function(e){console.log(e),t.$alert.show("服务端错误")})}else t.$alert.show("服务端错误")}).catch(function(e){console.log(e),t.$alert.show("服务端错误"),t.$loading.end()})},gotoLitreature:function(t,e){this.$router.push({path:"/literatureDetail",query:{canApply:e,imgUrl:t}})},getPosterImg:function(t,e){if(t&&e)return this.$http({method:"get",url:"/newWechat/getPosterImg",data:{posterType:t,title:e}});alert("海报类型和海报标题参数异常")}},mounted:function(){this.getPosterTitleList()}},c={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"literature"},[s("div",{staticClass:"tabBar"},t._l(t.posterBarList,function(e,r){return s("div",{key:r,class:t.currentIndex===r?"actived":"",on:{click:function(s){t.renderPoster(e.name,r)}}},[t._v("\n      "+t._s(e.title)+"\n    ")])})),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowProduct,expression:"isShowProduct"}],staticClass:"literatureContent productPoster",attrs:{id:"literatureContent"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isHaveProduct,expression:"isHaveProduct"}],staticClass:"noRecord"},[t._m(0),t._v(" "),s("div",[t._v("敬请期待")])]),t._v(" "),t._l(t.productPosterList,function(e,r){return s("div",{key:r,staticClass:"product"},[s("div",{staticClass:"title"},[s("span"),t._v(t._s(e.title)+"\n      ")]),t._v(" "),s("ul",{staticClass:"imgList"},t._l(e.imgList,function(r,i){return s("li",{key:i,on:{click:function(s){t.gotoLitreature(r,e.canApply)}}},[s("img",{attrs:{src:r,alt:""}})])}))])})],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isShowStore,expression:"isShowStore"}],staticClass:"literatureContent storePoster",attrs:{id:"literatureContent"}},[s("div",{directives:[{name:"show",rawName:"v-show",value:t.isHaveStore,expression:"isHaveStore"}],staticClass:"noRecord"},[t._m(1),t._v(" "),s("div",[t._v("敬请期待")])]),t._v(" "),t._l(t.storePosterList,function(e,r){return s("div",{key:r,staticClass:"product"},[s("div",{staticClass:"title"},[s("span"),t._v(t._s(e.title)+"\n      ")]),t._v(" "),s("ul",{staticClass:"imgList"},t._l(e.imgList,function(r,i){return s("li",{key:i,on:{click:function(s){t.gotoLitreature(r,e.canApply)}}},[s("img",{attrs:{src:r,alt:""}})])}))])})],2),t._v(" "),s("div",{directives:[{name:"show",rawName:"v-show",value:!t.isLoaded,expression:"!isLoaded"}],staticClass:"loading"},[s("img",{attrs:{src:r("W7jy"),alt:""}})])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{attrs:{src:r("Kofj"),alt:""}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("img",{attrs:{src:r("Kofj"),alt:""}})])}]},u=r("VU/8")(l,c,!1,null,null,null);e.default=u.exports},fxRn:function(t,e,r){r("+tPU"),r("zQR9"),t.exports=r("g8Ux")},g8Ux:function(t,e,r){var s=r("77Pl"),i=r("3fs2");t.exports=r("FeBl").getIterator=function(t){var e=i(t);if("function"!=typeof e)throw TypeError(t+" is not iterable!");return s(e.call(t))}}});
//# sourceMappingURL=8.7902b39f705eeecd4fd7.js.map